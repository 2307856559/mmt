<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg height="609" version="1.1" width="1071" xmlns="http://www.w3.org/2000/svg">
<rect fill="#ffffc8" height="76" stroke="#ffffc8" stroke-width="1" width="104" x="470" y="94"/>
<rect fill="none" height="76" stroke="#3c3cc8" stroke-width="1" width="104" x="470" y="94"/>
<text font-family="Dialog" font-size="12" x="479" y="130">
ServiceProperty</text>
<text font-family="Dialog" font-size="12" x="484" y="109">
&lt;&lt;interface&gt;&gt;</text>
<rect fill="#3c3cc8" height="1" stroke="#3c3cc8" stroke-width="1" width="104" x="470" y="142"/>
<text font-family="Dialog" font-size="12" x="474" y="157">
getServiceType()</text>
<rect fill="#ffffc8" height="76" stroke="#ffffc8" stroke-width="1" width="232" x="406" y="262"/>
<rect fill="none" height="76" stroke="#3c3cc8" stroke-width="1" width="232" x="406" y="262"/>
<text font-family="Dialog" font-size="12" x="471" y="298">
InitiativeProcessor</text>
<text font-family="Dialog" font-size="12" x="484" y="277">
&lt;&lt;interface&gt;&gt;</text>
<rect fill="#3c3cc8" height="1" stroke="#3c3cc8" stroke-width="1" width="232" x="406" y="310"/>
<text font-family="Dialog" font-size="12" x="410" y="325">
getAccessToken(cfg : MmtConfig) : String</text>
<polyline fill="none" points="526,262 526,169" stroke="#000000" stroke-width="1"/>
<polygon fill="#ffffff" points="526,169 533,181 519,181" stroke="#ffffff" stroke-width="1"/>
<polygon fill="none" points="526,169 533,181 519,181" stroke="#000000" stroke-width="1"/>
<rect fill="#ffffc8" height="171" stroke="#ffffc8" stroke-width="1" width="321" x="14" y="14"/>
<rect fill="none" height="171" stroke="#3c3cc8" stroke-width="1" width="321" x="14" y="14"/>
<text font-family="Dialog" font-size="12" x="112" y="50">
InitiativeMsgProcessor</text>
<text font-family="Dialog" font-size="12" x="137" y="29">
&lt;&lt;interface&gt;&gt;</text>
<rect fill="#3c3cc8" height="1" stroke="#3c3cc8" stroke-width="1" width="321" x="14" y="62"/>
<text font-family="Dialog" font-size="12" x="18" y="77">
sendTextMsg(msg : TextMessage) : JSONResponse</text>
<text font-family="Dialog" font-size="12" x="18" y="96">
sendImageMsg(msg : ImageMessage) : JSONResponse</text>
<text font-family="Dialog" font-size="12" x="18" y="115">
sendVoiceMsg(msg : VoiceMessage) : JSONResponse</text>
<text font-family="Dialog" font-size="12" x="18" y="134">
sendVideoMsg(msg : IVideo) : JSONResponse</text>
<text font-family="Dialog" font-size="12" x="18" y="153">
sendMusicMsg(msg : MusicMessage) : JSONResponse</text>
<text font-family="Dialog" font-size="12" x="18" y="172">
sendNewsMsg(msg : NewsMessage) : JSONResponse</text>
<rect fill="#c8c8ff" height="138" stroke="#c8c8ff" stroke-width="1" width="331" x="726" y="238"/>
<rect fill="none" height="138" stroke="#000000" stroke-width="1" width="331" x="726" y="238"/>
<text font-family="Dialog" font-size="12" font-style="italic" x="818" y="252">
AbstractInitiativeProcessor</text>
<rect fill="#000000" height="1" stroke="#000000" stroke-width="1" width="331" x="726" y="264"/>
<text font-family="Dialog" font-size="12" x="730" y="279">
accessRepository : AccessRepository</text>
<rect fill="#000000" height="1" stroke="#000000" stroke-width="1" width="331" x="726" y="291"/>
<text font-family="Dialog" font-size="12" font-style="italic" x="730" y="306">
getAccessTokenRequestParams(config : MmtConfig) : Map</text>
<text font-family="Dialog" font-size="12" font-style="italic" x="730" y="325">
getCommonUrl() : String</text>
<text font-family="Dialog" font-size="12" font-style="italic" x="730" y="344">
sendError(errorMsg : String)</text>
<text font-family="Dialog" font-size="12" x="730" y="363">
getAccessToken(cfg : MmtConfig) : String</text>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="726" x2="721" y1="302" y2="302"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="716" x2="711" y1="302" y2="302"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="706" x2="701" y1="302" y2="302"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="696" x2="691" y1="302" y2="302"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="686" x2="681" y1="302" y2="302"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="676" x2="671" y1="302" y2="302"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="666" x2="661" y1="302" y2="302"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="656" x2="651" y1="302" y2="302"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="646" x2="641" y1="302" y2="302"/>
<polygon fill="#ffffff" points="637,302 649,295 649,309" stroke="#ffffff" stroke-width="1"/>
<polygon fill="none" points="637,302 649,295 649,309" stroke="#000000" stroke-width="1"/>
<text font-family="Dialog" font-size="12" x="649" y="293">
&lt;&lt;realize&gt;&gt;</text>
<rect fill="#ffafaf" height="157" stroke="#ffafaf" stroke-width="1" width="323" x="734" y="438"/>
<rect fill="none" height="157" stroke="#000000" stroke-width="1" width="323" x="734" y="438"/>
<text font-family="Dialog" font-size="12" x="841" y="452">
WeiXinCommonAPI</text>
<rect fill="#000000" height="1" stroke="#000000" stroke-width="1" width="323" x="734" y="464"/>
<text font-family="Dialog" font-size="12" x="738" y="479">
COMMON_URL : String</text>
<rect fill="#000000" height="1" stroke="#000000" stroke-width="1" width="323" x="734" y="491"/>
<text font-family="Dialog" font-size="12" x="738" y="506">
getServiceType() : ServiceType</text>
<text font-family="Dialog" font-size="12" x="738" y="525">
getAccessTokenRequestParams(cfg : MmtConfig) : String</text>
<text font-family="Dialog" font-size="12" x="738" y="544">
getCommonUrl() : String</text>
<text font-family="Dialog" font-size="12" x="738" y="563">
sendError(errorMsg : String)</text>
<text font-family="Dialog" font-size="12" x="738" y="582">
checkConfigType(config : MmtConfig)</text>
<polyline fill="none" points="894,438 894,375" stroke="#000000" stroke-width="1"/>
<polygon fill="#ffffff" points="894,375 901,387 887,387" stroke="#ffffff" stroke-width="1"/>
<polygon fill="none" points="894,375 901,387 887,387" stroke="#000000" stroke-width="1"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="174" x2="174" y1="230" y2="225"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="174" x2="174" y1="220" y2="215"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="174" x2="174" y1="210" y2="205"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="174" x2="174" y1="200" y2="195"/>
<line fill="#000000" stroke="#000000" stroke-width="1" x1="174" x2="174" y1="190" y2="185"/>
<polygon fill="#ffffff" points="174,184 181,196 167,196" stroke="#ffffff" stroke-width="1"/>
<polygon fill="none" points="174,184 181,196 167,196" stroke="#000000" stroke-width="1"/>
<text font-family="Dialog" font-size="12" x="95" y="220">
&lt;&lt;realize&gt;&gt;</text>
<rect fill="#c8c8ff" height="157" stroke="#c8c8ff" stroke-width="1" width="321" x="14" y="230"/>
<rect fill="none" height="157" stroke="#3c3cc8" stroke-width="1" width="321" x="14" y="230"/>
<text font-family="Dialog" font-size="12" font-style="italic" x="90" y="244">
AbstractInitiativeMsgProcessor</text>
<rect fill="#3c3cc8" height="1" stroke="#3c3cc8" stroke-width="1" width="321" x="14" y="256"/>
<text font-family="Dialog" font-size="12" x="18" y="271">
initiativeProcessor : InitiativeProcessor</text>
<rect fill="#3c3cc8" height="1" stroke="#3c3cc8" stroke-width="1" width="321" x="14" y="283"/>
<text font-family="Dialog" font-size="12" x="18" y="298">
sendTextMsg(msg : TextMessage) : JSONResponse</text>
<text font-family="Dialog" font-size="12" x="18" y="317">
sendImageMsg(msg : ImageMessage) : JSONResponse</text>
<text font-family="Dialog" font-size="12" x="18" y="336">
sendMusicMsg(msg : MusicMessage) : JSONResponse</text>
<text font-family="Dialog" font-size="12" x="18" y="355">
sendNewsMsg(msg : NewsMessage) : JSONResponse</text>
<text font-family="Dialog" font-size="12" font-style="italic" x="18" y="374">
getInitiativeProcessor() : InitiativeProcessor</text>
<polyline fill="none" points="334,302 406,302" stroke="#000000" stroke-width="1"/>
<polygon fill="#000000" points="334,302 344,297 354,302 344,307" stroke="#000000" stroke-width="1"/>
<polygon fill="none" points="334,302 344,297 354,302 344,307" stroke="#000000" stroke-width="1"/>
<rect fill="#ffafaf" height="119" stroke="#ffafaf" stroke-width="1" width="311" x="14" y="462"/>
<rect fill="none" height="119" stroke="#000000" stroke-width="1" width="311" x="14" y="462"/>
<text font-family="Dialog" font-size="12" x="88" y="476">
WeiXinInitiativeMsgProcessor</text>
<rect fill="#000000" height="1" stroke="#000000" stroke-width="1" width="311" x="14" y="488"/>
<text font-family="Dialog" font-size="12" x="18" y="503">
commonAPI : WeiXinCommonAPI</text>
<rect fill="#000000" height="1" stroke="#000000" stroke-width="1" width="311" x="14" y="515"/>
<text font-family="Dialog" font-size="12" x="18" y="530">
getInitiativeProcessor() : InitiativeProcessor</text>
<text font-family="Dialog" font-size="12" x="18" y="549">
sendVoiceMsg(msg : VoiceMessage) : JSONResponse</text>
<text font-family="Dialog" font-size="12" x="18" y="568">
sendVideoMsg(msg : IVideo) : JSONResponse</text>
<polyline fill="none" points="324,518 734,518" stroke="#000000" stroke-width="1"/>
<polygon fill="#000000" points="324,518 334,513 344,518 334,523" stroke="#000000" stroke-width="1"/>
<polygon fill="none" points="324,518 334,513 344,518 334,523" stroke="#000000" stroke-width="1"/>
<polyline fill="none" points="214,462 214,386" stroke="#000000" stroke-width="1"/>
<polygon fill="#ffffff" points="214,386 221,398 207,398" stroke="#ffffff" stroke-width="1"/>
<polygon fill="none" points="214,386 221,398 207,398" stroke="#000000" stroke-width="1"/>
</svg>
